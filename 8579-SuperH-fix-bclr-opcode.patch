From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Alexey Esaulenko <esaulenka@gmail.com>
Date: Sun, 19 Oct 2025 17:36:58 +0300
Subject: [PATCH] 8579: SuperH fix 'bclr' opcode

---
 Ghidra/Processors/SuperH/data/languages/superh.sinc | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/Ghidra/Processors/SuperH/data/languages/superh.sinc b/Ghidra/Processors/SuperH/data/languages/superh.sinc
index 2c2d65877c..6235f067a0 100644
--- a/Ghidra/Processors/SuperH/data/languages/superh.sinc
+++ b/Ghidra/Processors/SuperH/data/languages/superh.sinc
@@ -2400,8 +2400,7 @@ define pcodeop Sleep_Standby;
 :bclr   "#"imm3_00_02, rn_04_07
     is opcode_08_15=0b10000110 & rn_04_07 & opcode_03_03=0b0 & imm3_00_02
 {
-    local b = *:1 (rn_04_07);
-    *:1 (rn_04_07) = b & (~(1 << imm3_00_02));
+    rn_04_07 = rn_04_07 & (~(1 << imm3_00_02));
 }
 
 # BLD.B       #imm3, @(disp12,Rn)      0011nnnn0iii1001 0011dddddddddddd        (imm of (disp+Rn)) â†’ T 
-- 
2.45.1

