From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: fuzzball <github@fuckin.rash.jp>
Date: Wed, 20 Aug 2025 15:17:11 +0900
Subject: [PATCH] 8451: Correction of CPL Instruction Grouping (80251)

Change CPL from GROUP2 to GROUP1
---
 Ghidra/Processors/8051/data/languages/8051_main.sinc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Ghidra/Processors/8051/data/languages/8051_main.sinc b/Ghidra/Processors/8051/data/languages/8051_main.sinc
index 31475a6ccd..7576e1c00b 100644
--- a/Ghidra/Processors/8051/data/languages/8051_main.sinc
+++ b/Ghidra/Processors/8051/data/languages/8051_main.sinc
@@ -717,8 +717,8 @@ Rel16:   relAddr is rel16		     [ relAddr=inst_next+rel16; ] { export *:1 relAdd
 :CLR BitAddr  is $(GROUP1) & ophi=12 & oplo=2; BitAddr & sfrbit	& BitByteAddr {  local tmp = ~(1<<sfrbit); BitByteAddr = BitByteAddr & tmp; }
 @endif
 
-:CPL Areg is $(GROUP2) & ophi=15 & oplo=4 & Areg					 { ACC = ~ACC; }
-:CPL CY    is $(GROUP2) & CY & ophi=11 & oplo=3					     {$(CY)=$(CY)^ 1; }
+:CPL Areg is $(GROUP1) & ophi=15 & oplo=4 & Areg					 { ACC = ~ACC; }
+:CPL CY    is $(GROUP1) & CY & ophi=11 & oplo=3					     {$(CY)=$(CY)^ 1; }
 
 :CPL BitAddr  is $(GROUP1) & ophi=11 & oplo=2; BitAddr & bitaddr57=7 & sfrbit3=0 & sfrbit & BitByteAddr { tmp:1 = (1<<sfrbit); BitByteAddr = BitByteAddr ^ tmp; }
 @if BIT_OPS == "BIT_ADDRS"
-- 
2.45.1

