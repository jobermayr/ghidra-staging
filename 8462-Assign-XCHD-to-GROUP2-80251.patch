From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: fuzzball <github@fuckin.rash.jp>
Date: Thu, 21 Aug 2025 17:53:33 +0900
Subject: [PATCH] 8462: Assign XCHD to GROUP2 (80251)

Assign xchd to group2

Remove comments
---
 Ghidra/Processors/8051/data/languages/8051_main.sinc | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/Ghidra/Processors/8051/data/languages/8051_main.sinc b/Ghidra/Processors/8051/data/languages/8051_main.sinc
index 7576e1c00b..5c3b7b8f36 100644
--- a/Ghidra/Processors/8051/data/languages/8051_main.sinc
+++ b/Ghidra/Processors/8051/data/languages/8051_main.sinc
@@ -915,8 +915,7 @@ pc:3 = 0; pop24(pc); return[pc];
 :XCH  Areg,Direct is $(GROUP1) & ophi=12 & oplo=5 & Areg; Direct {  tmp : 1 = ACC; ACC = Direct; Direct = tmp; }
 :XCH  Areg,Ri     is $(GROUP2) & ophi=12 & rifill=3 & Ri & Areg			 {  tmp : 1 = ACC; ACC = Ri; Ri = tmp; }
 
-# TODO: This instruction appears to be in both GROUP2 & GROUP3 (always available)
-:XCHD Areg,Ri    is ophi=13 & Areg & rifill=3 & Ri				{  tmp : 1 = ACC & 0xf; ACC = (ACC&0xf0) | (Ri&0xf); Ri = (Ri&0xf0) | tmp; }
+:XCHD Areg,Ri    is $(GROUP2) & ophi=13 & Areg & rifill=3 & Ri				{  tmp : 1 = ACC & 0xf; ACC = (ACC&0xf0) | (Ri&0xf); Ri = (Ri&0xf0) | tmp; }
 
 :XRL Areg,rn     is $(GROUP2) & ophi=6 & rnfill=1 & rn & Areg				{ ACC = ACC ^ rn; }
 :XRL Areg,Direct is $(GROUP1) & ophi=6 & oplo=5 & Areg; Direct	{ ACC = ACC ^ Direct; }
-- 
2.45.1

