From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jakub Stasiak <jakub@stasiak.at>
Date: Sun, 1 Feb 2026 23:24:40 +0100
Subject: [PATCH] 8924: pyghidra: Clarify the ghidra and pyghidra import
 differences

Clarify the difference between ghidra and pyghidra imports

I got confused by the distinction and the differences a few times, I
figured it could be documented better.
---
 .../help/help/topics/PyGhidra/interpreter.html   |  7 +++++++
 Ghidra/Features/PyGhidra/src/main/py/README.md   | 13 +++++++++++++
 .../Features/PyGhidra/src/main/py/pyproject.toml |  2 +-
 .../Doclets/support/GhidraStubs_README.md        | 16 ++++++++++++++++
 GhidraDocs/GettingStarted.md                     |  8 ++++++++
 5 files changed, 45 insertions(+), 1 deletion(-)

diff --git a/Ghidra/Features/PyGhidra/src/main/help/help/topics/PyGhidra/interpreter.html b/Ghidra/Features/PyGhidra/src/main/help/help/topics/PyGhidra/interpreter.html
index 13ff477501..fdd5976545 100644
--- a/Ghidra/Features/PyGhidra/src/main/help/help/topics/PyGhidra/interpreter.html
+++ b/Ghidra/Features/PyGhidra/src/main/help/help/topics/PyGhidra/interpreter.html
@@ -25,6 +25,13 @@
     them through a Python interface, which is similar to Java in some ways.
     </P>
     
+    <P>
+    <B>Note on imports:</B> Since you are running inside Ghidra, you do <I>not</I> need to
+    <TT>import pyghidra</TT> or call <TT>pyghidra.start()</TT>. The <TT>pyghidra</TT> module is
+    only needed for standalone Python scripts running outside of Ghidra. Here, you can directly
+    import Ghidra API modules like <TT>from ghidra.program.flatapi import FlatProgramAPI</TT>.
+    </P>
+
     <P>
     As in Java, classes outside of your current package/module need to be explicitly imported.
     For example, consider the following code snippet:
diff --git a/Ghidra/Features/PyGhidra/src/main/py/README.md b/Ghidra/Features/PyGhidra/src/main/py/README.md
index 6be76ecd3f..9fba59afc7 100644
--- a/Ghidra/Features/PyGhidra/src/main/py/README.md
+++ b/Ghidra/Features/PyGhidra/src/main/py/README.md
@@ -7,6 +7,19 @@ using [JPype](https://jpype.readthedocs.io/en/latest). PyGhidra contains some co
 setting up analysis on a given sample and running a Ghidra script locally. It also contains a Ghidra
 plugin to allow the use of CPython 3 from the Ghidra GUI.
 
+## `import pyghidra` vs `import ghidra`
+
+- **`import pyghidra`** (this package) - Launcher for standalone Python scripts. Call
+  `pyghidra.start()` to initialize the JVM and Ghidra before using the API. Not needed inside Ghidra.
+- **`import ghidra.*`** - The actual Ghidra API (Java packages via JPype). Available after
+  `pyghidra.start()` in standalone scripts, or in GhidraScripts/interpreter when Ghidra is
+  launched in PyGhidra mode (via `pyghidraRun` or `pyghidraw`).
+
+| Context | `import pyghidra` | `import ghidra.*` |
+|---------|-------------------|-------------------|
+| Standalone Python script | Required (this package; call `start()` first) | Available after `start()` |
+| Ghidra in PyGhidra mode (`pyghidraRun`) | Not needed | Available |
+
 ## Installation and Setup
 Ghidra provides an out-of-the box integration with the PyGhidra Python library which makes 
 installation and usage fairly straightforward. This enables the Ghidra GUI and headless Ghidra to
diff --git a/Ghidra/Features/PyGhidra/src/main/py/pyproject.toml b/Ghidra/Features/PyGhidra/src/main/py/pyproject.toml
index c0279e327c..b73834965c 100644
--- a/Ghidra/Features/PyGhidra/src/main/py/pyproject.toml
+++ b/Ghidra/Features/PyGhidra/src/main/py/pyproject.toml
@@ -5,7 +5,7 @@ build-backend = "setuptools.build_meta"
 [project]
 name = "pyghidra"
 dynamic = ["version", "readme"]
-description = "Native CPython for Ghidra"
+description = "Launcher library for using Ghidra's API from standalone CPython scripts"
 license = {text = "Apache-2.0"}
 requires-python = ">= 3.9"
 authors = [
diff --git a/GhidraBuild/BuildFiles/Doclets/support/GhidraStubs_README.md b/GhidraBuild/BuildFiles/Doclets/support/GhidraStubs_README.md
index 6a52612ef7..8536956a6d 100644
--- a/GhidraBuild/BuildFiles/Doclets/support/GhidraStubs_README.md
+++ b/GhidraBuild/BuildFiles/Doclets/support/GhidraStubs_README.md
@@ -10,6 +10,22 @@ The stubs can be installed with `pip install ghidra-stubs*.whl` into the environ
 real Ghidra module (i.e., `pyghidra`) is available. Any conformant tool will then use the stubs 
 package for type analysis purposes.  
 
+## Understanding `import pyghidra` vs `import ghidra`
+
+These two imports serve different purposes:
+
+- **`import pyghidra`** - The launcher/bootstrap library. Use this in **standalone Python scripts**
+  to initialize the JVM and Ghidra before accessing the API. Not needed inside Ghidra.
+- **`import ghidra.*`** (this package provides stubs for these) - The actual Ghidra API (Java
+  packages exposed via JPype). Available after `pyghidra.start()` in standalone scripts, or in
+  GhidraScripts/interpreter when Ghidra is launched in PyGhidra mode (via `pyghidraRun` or
+  `pyghidraw`).
+
+| Context | `import pyghidra` | `import ghidra.*` |
+|---------|-------------------|-------------------|
+| Standalone Python script | Required (call `pyghidra.start()` first) | Available after `start()` (this package provides stubs) |
+| Ghidra in PyGhidra mode (`pyghidraRun`) | Not needed | Available (this package provides stubs) |
+
 ## Usage
 
 Once installed, all you need to do is import the Ghidra modules as usual, and your supported editor
diff --git a/GhidraDocs/GettingStarted.md b/GhidraDocs/GettingStarted.md
index b0a95cceac..2056fbb93b 100644
--- a/GhidraDocs/GettingStarted.md
+++ b/GhidraDocs/GettingStarted.md
@@ -294,6 +294,14 @@ commands. For more information on using PyGhidra, see
 [`<GhidraInstallDir>/Ghidra/Features/PyGhidra/README.html`](
 ../Ghidra/Features/PyGhidra/src/main/py/README.md).
 
+__Understanding imports:__ When writing Python scripts for Ghidra, note that `import pyghidra` and
+`import ghidra` serve different purposes:
+* **`import pyghidra`** - The launcher library. Use this only in standalone Python scripts (outside
+  Ghidra) to bootstrap the JVM and Ghidra environment via `pyghidra.start()`.
+* **`import ghidra.*`** - The actual Ghidra API (Java packages via JPype). Available in
+  GhidraScripts when Ghidra is launched in PyGhidra mode (via `pyghidraRun`) - no `pyghidra`
+  import needed.
+
 ### Behavioral Similarity (BSim)
 BSim is a Ghidra plugin for finding structurally similar functions in collections of binaries.   
 For more information, see `<GhidraInstallDir>/docs/GhidraClass/BSim/BSimTutorial_Intro.html`
-- 
2.45.1

